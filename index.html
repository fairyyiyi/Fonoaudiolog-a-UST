<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Malla Interactiva Fonoaudiología UST</title>
<link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
<style>
  body {
    margin: 0;
    padding: 1.5rem;
    background-color: #f8e8f8;
    font-family: 'Inter', sans-serif;
    font-size: 13px;
    color: #4a2c56;
  }
  h1 {
    text-align: center;
    margin-bottom: 1.5rem;
    color: #6f4a7e;
  }
  .malla {
    display: flex;
    gap: 1rem;
    overflow-x: auto;
    padding-bottom: 1rem;
  }
  .semestre {
    background: #f3d7f0;
    border-radius: 12px;
    min-width: 220px;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    padding: 0.8rem;
    box-shadow: 0 0 8px rgba(168, 100, 194, 0.3);
  }
  .semestre h2 {
    text-align: center;
    margin-bottom: 0.8rem;
    font-weight: 600;
  }
  .ramo {
    background-color: #f7d9e3;
    border-radius: 10px;
    box-shadow: 0 0 5px rgba(255, 182, 193, 0.5);
    color: #4a2c56;
    cursor: pointer;
    transition: background-color 0.3s, box-shadow 0.3s, opacity 0.3s;
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem 0.6rem;
    min-height: 70px;
    text-align: center;
    font-size: 13px;
    margin-bottom: 0.7rem;
  }
  .ramo.inactivo {
    cursor: default;
    opacity: 0.5;
    pointer-events: none;
    filter: grayscale(40%);
  }
  .ramo.activo {
    background: linear-gradient(135deg, #cda0f7, #a96ee1);
    box-shadow: 0 0 15px 3px rgba(201, 125, 255, 0.7);
    color: white;
  }
  .ramo.activo span.nombre {
    text-decoration: line-through;
  }
  .ramo:hover:not(.inactivo):not(.activo) {
    background-color: #f4b9d8;
  }
  .malla::-webkit-scrollbar {
    height: 8px;
  }
  .malla::-webkit-scrollbar-track {
    background: #f0d7f5;
    border-radius: 10px;
  }
  .malla::-webkit-scrollbar-thumb {
    background: #b48de6;
    border-radius: 10px;
  }
</style>
</head>
<body>

<h1>Malla Interactiva Fonoaudiología UST</h1>

<div class="malla">
  <!-- Semestres aquí -->
  <div class="semestre" data-semestre="I">
    <h2>I Semestre</h2>
    <div class="ramo" data-nombre="Razonamiento Lógico Matemático" data-prerrequisitos=""><span class="nombre">Razonamiento Lógico Matemático</span></div>
    <div class="ramo" data-nombre="Introducción a la Fonoaudiología" data-prerrequisitos=""><span class="nombre">Introducción a la Fonoaudiología</span></div>
    <div class="ramo" data-nombre="Atención Básica de Urgencias" data-prerrequisitos=""><span class="nombre">Atención Básica de Urgencias</span></div>
    <div class="ramo" data-nombre="Taller de Competencias para el Aprendizaje" data-prerrequisitos=""><span class="nombre">Taller de Competencias para el Aprendizaje</span></div>
    <div class="ramo" data-nombre="Principios de la Biología" data-prerrequisitos=""><span class="nombre">Principios de la Biología</span></div>
    <div class="ramo" data-nombre="Taller de Competencias Comunicativas" data-prerrequisitos=""><span class="nombre">Taller de Competencias Comunicativas</span></div>
  </div>

  <div class="semestre" data-semestre="II">
    <h2>II Semestre</h2>
    <div class="ramo" data-nombre="Acústica y Biomecánica" data-prerrequisitos="Razonamiento Lógico Matemático"><span class="nombre">Acústica y Biomecánica</span></div>
    <div class="ramo" data-nombre="Comunicación y Lingüística" data-prerrequisitos="Introducción a la Fonoaudiología"><span class="nombre">Comunicación y Lingüística</span></div>
    <div class="ramo" data-nombre="Procesos Cognitivos y Desarrollo en el Curso de Vida" data-prerrequisitos=""><span class="nombre">Procesos Cognitivos y Desarrollo en el Curso de Vida</span></div>
    <div class="ramo" data-nombre="Anatomía y Fisiología General" data-prerrequisitos=""><span class="nombre">Anatomía y Fisiología General</span></div>
    <div class="ramo" data-nombre="Salud y Sociedad" data-prerrequisitos=""><span class="nombre">Salud y Sociedad</span></div>
    <div class="ramo" data-nombre="Cultura y Valores" data-prerrequisitos=""><span class="nombre">Cultura y Valores</span></div>
  </div>

  <div class="semestre" data-semestre="III">
    <h2>III Semestre</h2>
    <div class="ramo" data-nombre="Estadística y Epidemiología en Fonoaudiología" data-prerrequisitos="Razonamiento Lógico Matemático"><span class="nombre">Estadística y Epidemiología en Fonoaudiología</span></div>
    <div class="ramo" data-nombre="Significado y Estructuras del Lenguaje" data-prerrequisitos="Comunicación y Lingüística"><span class="nombre">Significado y Estructuras del Lenguaje</span></div>
    <div class="ramo" data-nombre="Neuropsiquiatría" data-prerrequisitos=""><span class="nombre">Neuropsiquiatría</span></div>
    <div class="ramo" data-nombre="Bases Morfofuncionales de la Fonoaudiología" data-prerrequisitos=""><span class="nombre">Bases Morfofuncionales de la Fonoaudiología</span></div>
    <div class="ramo" data-nombre="Personas y Sentido" data-prerrequisitos=""><span class="nombre">Personas y Sentido</span></div>
    <div class="ramo" data-nombre="Taller de Desarrollo Personal I" data-prerrequisitos=""><span class="nombre">Taller de Desarrollo Personal I</span></div>
    <div class="ramo" data-nombre="Inglés Básico I" data-prerrequisitos=""><span class="nombre">Inglés Básico I</span></div>
  </div>

  <div class="semestre" data-semestre="IV">
    <h2>IV Semestre</h2>
    <div class="ramo" data-nombre="Evaluación del Desarrollo de Competencias MEC FON HITO 1" data-prerrequisitos=""><span class="nombre">Evaluación del Desarrollo de Competencias MEC FON HITO 1</span></div>
    <div class="ramo" data-nombre="Lenguaje y Sociedad" data-prerrequisitos="Significado y Estructuras del Lenguaje"><span class="nombre">Lenguaje y Sociedad</span></div>
    <div class="ramo" data-nombre="Fonoestamología" data-prerrequisitos=""><span class="nombre">Fonoestamología</span></div>
    <div class="ramo" data-nombre="Fisiopatología de la Comunicación" data-prerrequisitos=""><span class="nombre">Fisiopatología de la Comunicación</span></div>
    <div class="ramo" data-nombre="Evaluación Participativa con la Comunidad" data-prerrequisitos=""><span class="nombre">Evaluación Participativa con la Comunidad</span></div>
    <div class="ramo" data-nombre="Taller de Desarrollo Personal II" data-prerrequisitos=""><span class="nombre">Taller de Desarrollo Personal II</span></div>
    <div class="ramo" data-nombre="Inglés Básico II" data-prerrequisitos=""><span class="nombre">Inglés Básico II</span></div>
  </div>

  <div class="semestre" data-semestre="V">
    <h2>V Semestre</h2>
    <div class="ramo" data-nombre="Valoración Auditiva en el Curso de Vida I" data-prerrequisitos="Acústica y Biomecánica;Estadística y Epidemiología en Fonoaudiología"><span class="nombre">Valoración Auditiva en el Curso de Vida I</span></div>
    <div class="ramo" data-nombre="Desarrollo en Niños, Niñas y Adolescentes I" data-prerrequisitos=""><span class="nombre">Desarrollo en Niños, Niñas y Adolescentes I</span></div>
    <div class="ramo" data-nombre="Desarrollo en el Adulto y Presonas Mayores" data-prerrequisitos=""><span class="nombre">Desarrollo en el Adulto y Presonas Mayores</span></div>
    <div class="ramo" data-nombre="Abordaje Fonoaudiológico en la Comunicación Educativa" data-prerrequisitos=""><span class="nombre">Abordaje Fonoaudiológico en la Comunicación Educativa</span></div>
    <div class="ramo" data-nombre="Intervención Comunitaria" data-prerrequisitos=""><span class="nombre">Intervención Comunitaria</span></div>
    <div class="ramo" data-nombre="Ética y Salud" data-prerrequisitos=""><span class="nombre">Ética y Salud</span></div>
  </div>

  <div class="semestre" data-semestre="VI">
    <h2>VI Semestre</h2>
    <div class="ramo" data-nombre="Gestión e Innovación en Fonoaudiología" data-prerrequisitos=""><span class="nombre">Gestión e Innovación en Fonoaudiología</span></div>
    <div class="ramo" data-nombre="Abordaje en Niños, Niñas y Adolescentes I" data-prerrequisitos="Desarrollo en Niños, Niñas y Adolescentes I"><span class="nombre">Abordaje en Niños, Niñas y Adolescentes I</span></div>
    <div class="ramo" data-nombre="Abordaje en Adultos y Personas Mayores I" data-prerrequisitos="Desarrollo en el Adulto y Presonas Mayores"><span class="nombre">Abordaje en Adultos y Personas Mayores I</span></div>
    <div class="ramo" data-nombre="Bases de la Rehabilitación y Redes Integradas de Servicio de Salud" data-prerrequisitos=""><span class="nombre">Bases de la Rehabilitación y Redes Integradas de Servicio de Salud</span></div>
    <div class="ramo" data-nombre="Valoración Auditiva en el Curso de Vida II" data-prerrequisitos="Valoración Auditiva en el Curso de Vida I"><span class="nombre">Valoración Auditiva en el Curso de Vida II</span></div>
    <div class="ramo" data-nombre="Desarrollo de la Voz y Técnica Vocal" data-prerrequisitos=""><span class="nombre">Desarrollo de la Voz y Técnica Vocal</span></div>
    <div class="ramo" data-nombre="Electivo I" data-prerrequisitos=""><span class="nombre">Electivo I</span></div>
  </div>

  <div class="semestre" data-semestre="VII">
    <h2>VII Semestre</h2>
    <div class="ramo" data-nombre="Abordaje en Niños, Niñas y Adolescentes II" data-prerrequisitos="Abordaje en Niños, Niñas y Adolescentes I"><span class="nombre">Abordaje en Niños, Niñas y Adolescentes II</span></div>
    <div class="ramo" data-nombre="Abordaje en Adultos y Personas Mayores II" data-prerrequisitos="Abordaje en Adultos y Personas Mayores I"><span class="nombre">Abordaje en Adultos y Personas Mayores II</span></div>
    <div class="ramo" data-nombre="Electivo II" data-prerrequisitos=""><span class="nombre">Electivo II</span></div>
    <div class="ramo" data-nombre="Abordaje Auditivo en el Curso de Vida" data-prerrequisitos=""><span class="nombre">Abordaje Auditivo en el Curso de Vida</span></div>
    <div class="ramo" data-nombre="Abordaje de la Voz Hablada y Cantada I" data-prerrequisitos=""><span class="nombre">Abordaje de la Voz Hablada y Cantada I</span></div>
    <div class="ramo" data-nombre="Práctica Curricular I" data-prerrequisitos=""><span class="nombre">Práctica Curricular I</span></div>
  </div>

  <div class="semestre" data-semestre="VIII">
    <h2>VIII Semestre</h2>
    <div class="ramo" data-nombre="Metodología de la Investigación" data-prerrequisitos=""><span class="nombre">Metodología de la Investigación</span></div>
    <div class="ramo" data-nombre="Abordaje de la Deglución y Alimentación Oral" data-prerrequisitos=""><span class="nombre">Abordaje de la Deglución y Alimentación Oral</span></div>
    <div class="ramo" data-nombre="Electivo III" data-prerrequisitos=""><span class="nombre">Electivo III</span></div>
    <div class="ramo" data-nombre="Evaluación del Desarrollo de Competencias MEC FON HITO 2" data-prerrequisitos=""><span class="nombre">Evaluación del Desarrollo de Competencias MEC FON HITO 2</span></div>
    <div class="ramo" data-nombre="Abordaje Vesicular en el Curso de Vida" data-prerrequisitos=""><span class="nombre">Abordaje Vesicular en el Curso de Vida</span></div>
    <div class="ramo" data-nombre="Abordaje de la Voz Hablada y Cantada II" data-prerrequisitos=""><span class="nombre">Abordaje de la Voz Hablada y Cantada II</span></div>
    <div class="ramo" data-nombre="Práctica Curricular II" data-prerrequisitos=""><span class="nombre">Práctica Curricular II</span></div>
  </div>

  <div class="semestre" data-semestre="IX">
    <h2>IX Semestre</h2>
    <div class="ramo" data-nombre="Seminario de Grado I" data-prerrequisitos=""><span class="nombre">Seminario de Grado I</span></div>
    <div class="ramo" data-nombre="Internado Profesional I" data-prerrequisitos=""><span class="nombre">Internado Profesional I</span></div>
    <div class="ramo" data-nombre="Internado Profesional II" data-prerrequisitos=""><span class="nombre">Internado Profesional II</span></div>
  </div>

  <div class="semestre" data-semestre="X">
    <h2>X Semestre</h2>
    <div class="ramo" data-nombre="Seminario de Grado II" data-prerrequisitos=""><span class="nombre">Seminario de Grado II</span></div>
    <div class="ramo" data-nombre="Internado III" data-prerrequisitos=""><span class="nombre">Internado III</span></div>
    <div class="ramo" data-nombre="Internado IV" data-prerrequisitos=""><span class="nombre">Internado IV</span></div>
  </div>
</div>

<script>
  const ramos = document.querySelectorAll('.ramo');

  // Map para guardar estado de aprobado (true/false)
  const aprobado = new Map();

  // Inicializa todos como false (no aprobados)
  ramos.forEach(ramo => {
    aprobado.set(ramo.dataset.nombre, false);
  });

  // Función para activar/desactivar ramos según prerrequisitos
  function actualizarEstadoRamos() {
    // Para cada semestre, si tiene al menos un ramo activo, ramos sin prerrequisitos se activan; si no, inactivos
    const semestres = document.querySelectorAll('.semestre');
    semestres.forEach(sem => {
      const ramosSem = sem.querySelectorAll('.ramo');
      const tieneActivo = Array.from(ramosSem).some(r => aprobado.get(r.dataset.nombre));
      ramosSem.forEach(r => {
        if (!r.dataset.prerrequisitos) {
          if (sem.dataset.semestre !== 'I') {
            // En semestres > I, si no hay ramos activos en ese semestre, inactivo
            if (tieneActivo) {
              r.classList.remove('inactivo');
              r.style.pointerEvents = '';
              r.style.opacity = '';
            } else {
              r.classList.add('inactivo');
              r.style.pointerEvents = 'none';
              r.style.opacity = '0.5';
            }
          }
        }
      });
    });

    // Ahora activar o desactivar según prerrequisitos
    ramos.forEach(ramo => {
      if (ramo.dataset.prerrequisitos) {
        const preList = ramo.dataset.prerrequisitos.split(';').map(p => p.trim()).filter(p => p.length > 0);
        // Si todos los prerrequisitos están aprobados, activar
        const habilitado = preList.every(pr => aprobado.get(pr));
        if (habilitado) {
          ramo.classList.remove('inactivo');
          ramo.style.pointerEvents = '';
          ramo.style.opacity = '';
        } else {
          ramo.classList.add('inactivo');
          ramo.style.pointerEvents = 'none';
          ramo.style.opacity = '0.5';
        }
      }
    });
  }

  // Actualizar visual según aprobado
  function actualizarVisual(ramo) {
    if (aprobado.get(ramo.dataset.nombre)) {
      ramo.classList.add('activo');
      ramo.querySelector('span.nombre').style.textDecoration = 'line-through';
    } else {
      ramo.classList.remove('activo');
      ramo.querySelector('span.nombre').style.textDecoration = 'none';
    }
  }

  ramos.forEach(ramo => {
    ramo.addEventListener('click', () => {
      if (ramo.classList.contains('inactivo')) return;

      // Toggle aprobado
      const estadoActual = aprobado.get(ramo.dataset.nombre);
      aprobado.set(ramo.dataset.nombre, !estadoActual);
      actualizarVisual(ramo);

      // Cada vez que cambia un ramo, actualiza prerrequisitos
      actualizarEstadoRamos();
    });
  });

  // Inicializar la malla con prerrequisitos
  actualizarEstadoRamos();
</script>

</body>
</html>
